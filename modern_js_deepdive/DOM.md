# DOM

- 노드 객체들로 구성된 트리 구조
- 노드 객체의 트리로 구조화되어있기 때문에 DOM 트리라고 부르기도 함


# 노드 객체의 종류

> 문서 노드
- DOM 트리의 최상위에 존재하는 루트 노드로서 `document` 객체를 가리킨다
- `document` 객체는 브라우저가 렌더링한 html 문서 전체를 가리키는 객체로서 window의 `document`프로퍼티에 바인딩되어있다
- 모든 자바스크립트 코드는 하나의 전역 객체 window 의 `document` 프로퍼티에 바인딩되어 있는 하나의 `document` 객체를 바라본다. 즉 HTML 문서당 `document` 객체는 유일하다

> 요소 노드
- html 요소를 가리키는 객체
- html 요소 간의 중첩에 의해 부자 관계를 가지며, 이 부자 관계를 통해 정보를 구조화한다.
- 따라서 문서의 구조를 표현한다고 할 수 있다

> 어트리뷰트 노드
- html 요소의 어트리뷰트를 나타내는 객체다
- 요소 노드에만 연결되어 있다
- 부모 노드가 없으므로 요소 노드의 형제는 아니다

> 텍스트 노드
- html 요소의 텍스트를 가리키는 객체다
- 문서의 정보를 표현한다
- 요소 노드의 자식 노드이며, 자식 노드를 가질 수 없는 리프 노드이다
- DOM 트리의 최종단이다

--- 


> 노드 객체는 공통된 기능일수록 프로토타입 체인의 상위에,
개별적인 고유 기능일수록 프로토타입 체인의 하위에 프로토타입 체인을 구축하여 노드 객체에 필요한 기능, 즉 프로퍼티와 메서드를 제공하는 상속 구조를 갖는다

> 지금까지 살펴본 바와 같이 DOM 은 HTML 문서의 계층적 구조와 정보를 표현하는 것은 물론 노드 객체의 종류, 즉 노드 타입에 따라 필요한 기능을 프로퍼티와 메서드의 집합인 DOM API 로 제공한다. 이를 통해 HTML 의 구조나 내용 또는 스타일 등을 동적으로 조작할 수 있다
> 


<br><br>
# HTMLCollection 과 NodeList

- 둘 다 DOM 컬렉션 객체
- DOM API가 여러 개의 결과값을 반환하기 위한 컬렉션 객체
- 둘 다 유사 배열 객체이며 이터러블이다
- **노드 객체의 상태 변화를 실시간으로 반영하는 살아있는 객체**

> HTMLCollection 은 언제나 live 객체로 동작한다
> 

> 단, NodeList 는 대부분의 경우 노드 객체의 상태 변화를 실시간으로 반영하지 않고
과거의 정적 상태를 유지하는 non-live 객체로 동작하지만 경우에 따라 live 객체로 동작한다
> 

<br><br>
# HTML 어트리뷰트 vs DOM 프로퍼티

> 요소 노드는 2개의 상태, 즉 `초기 상태`와 `최신 상태`를 관리해야 한다
> 
> 요소 노드의 초기 상태는 어트리뷰트 노드가 관리하며 <br>
> 요소 노드의 최신 상태는 DOM 프로퍼티가 관리한다
> 

## 어트리뷰트 노드

- 사용자의 입력에 의해 상태가 변경되어도 변하지 않고 HTML 어트리뷰트 값으로 지정한 HTML 요소의 초기 상태를 그대로 유지한다
- `setAttribute` 메서드는 어트리뷰트 노드에서 관리하는 HTML 요소에 지정한 초기 상태 값을 변경한다

## DOM 프로퍼티

- 요소 노드의 DOM 프로퍼티가 관리한다
- 사용자의 입력에 의한 상태 변화에 반응하여 언제나 최신 상태를 유지한다
- getAttribute 메서드로 취득한 값, 즉 초기 상태 값은 변하지 않고 유지된다


+input 요소의 사용자 입력에 의한 상태 변화는 value 프로퍼티가 관리 (DOM)